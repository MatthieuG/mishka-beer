<div ng-include="'components/navbar/navbar.html'"></div>
<div class="container">
 <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">{{'nav-bar.malts' | translate}}</h1>
      <div class="panel panel-default" id="panel1">
        <div class="panel-heading">
            <a href="" ng-click="changeShowNewMalt()">
                {{'entities.malt.add' | translate}}
                <p  class="pull-right">
                    <i class="glyphicon glyphicon glyphicon-plus" ng-if="newMaltClass===''"></i>
                    <i class="glyphicon glyphicon glyphicon-chevron-up" ng-if="newMaltClass==='in'"></i>
                </p>
            </a>
        </div>
        <div id="collapseOne" class="panel-collapse collapse" ng-class="newMaltClass">
          <div class="panel-body">
            <maltedit savefunction="saveMalt" malt="newMalt" clearform="true" ng-controller="MaltsCtrl"/>
          </div>
        </div>
      </div>
      <div class="alert-danger" ng-show="errorGetList">
            <strong>{{"entities.actions.list.error" | translate}}</strong> {{"entities.actions.list.listimpossible" | translate}}
      </div>
      <div class="alert-warning" ng-show="malts == null || malts.length === 0">
            {{"entities.actions.list.empty" | translate}}
      </div>
      <ul class="nav nav-tabs nav-stacked col-md-12 col-lg-12 col-sm-12" ng-repeat="malt in malts | orderBy:'name'">
        <li>
            <a href="" class="container" tooltip="{{malt.name}}{{malt.description == null || malt.description.trim().length === 0 ? '' : ' : '}}{{malt.description}}">
                <div class="col-md-6">{{malt.name}}</div>
                <div class="col-md-2"><p>{{getNameMaltType(malt.type) | translate}}</p></div>
                <div class="col-md-2"><p ng-if="malt.ebc">{{'entities.malt.ebc.title' | translate}} : {{malt.ebc}}</p></div>
                <div class="col-md-2 btn-group">
                   <button type="button" class="btn btn-default btn-sm navbar-btn pull-right no-margin" ng-click="deleteMalt(malt)" tooltip="{{'entities.actions.delete' | translate}}">
                       <i class="glyphicon glyphicon-trash"></i>
                   </button>
                   <button type="button" class="btn btn-default btn-sm navbar-btn pull-right no-margin" ng-click="editMalt(malt)"  tooltip="{{'entities.actions.edit' | translate}}">
                       <i class="glyphicon glyphicon-pencil"></i>
                   </button>
                   <button type="button" class="btn btn-default btn-sm navbar-btn pull-right no-margin" ng-click="showMalt(malt)"  tooltip="{{'entities.actions.details' | translate}}">
                       <i class="glyphicon glyphicon-zoom-in"></i>
                   </button>
                </div>
            </a>
            <div class="panel-body" ng-if="malt.$edit || malt.$details">
                <maltedit savefunction="saveMalt" malt="malt" clearform="false" ng-controller="MaltsCtrl"/>
            </div>
        </li>
      </ul>
    </div>
  </div>
</div>
